<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ú–ö–° ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f5f5f5; padding: 20px; }
    .step { display: none; }
    .step.active { display: block; }
    .container { max-width: 500px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); }
    .buttons { margin-top: 15px; display: flex; justify-content: space-between; }
    button { padding: 10px 15px; border: none; border-radius: 6px; cursor: pointer; }
    button:disabled { background: #ccc; cursor: not-allowed; }
    .next { background: #007bff; color: #fff; }
    .back { background: #6c757d; color: #fff; }
    input, select { width: 100%; padding: 8px; margin-top: 8px; border: 1px solid #ccc; border-radius: 6px; }
    small { color: #666; font-size: 12px; }
  </style>
</head>
<body>
  <div class="container">
    <form id="wizardForm">
      
      <!-- –®–∞–≥ 1 -->
      <div class="step active">
        <h3>üë§ –§–ò–û</h3>
        <label>–í–≤–µ–¥–∏—Ç–µ –§–∞–º–∏–ª–∏—é –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ:</label>
        <input type="text" id="fullname" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á" required pattern="^[–ê-–Ø–∞-—è–Å—ë\s-]+$">
        <small>–¢–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã</small>
        <div class="buttons">
          <button type="button" class="next">–î–∞–ª–µ–µ ‚û°Ô∏è</button>
        </div>
      </div>

      <!-- –®–∞–≥ 2 -->
      <div class="step">
        <h3>üìû –¢–µ–ª–µ—Ñ–æ–Ω</h3>
        <label>–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞:</label>
        <input type="tel" id="phone" placeholder="+79991234567" required pattern="^(\+7|7)\d{10}$">
        <small>–ü—Ä–∏–º–µ—Ä: +79991234567</small>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
          <button type="button" class="next">–î–∞–ª–µ–µ ‚û°Ô∏è</button>
        </div>
      </div>

      <!-- –®–∞–≥ 3 -->
      <div class="step">
        <h3>üìÑ –î–æ–∫—É–º–µ–Ω—Ç</h3>
        <label>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞:</label>
        <select id="doctype" required>
          <option value="">-- –≤—ã–±–µ—Ä–∏—Ç–µ --</option>
          <option value="passport">–ü–∞—Å–ø–æ—Ä—Ç</option>
          <option value="inn">–ò–ù–ù</option>
          <option value="snils">–°–ù–ò–õ–°</option>
        </select>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
          <button type="button" class="next">–î–∞–ª–µ–µ ‚û°Ô∏è</button>
        </div>
      </div>

      <!-- –®–∞–≥ 4 -->
      <div class="step">
        <h3>üî¢ –ù–æ–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞</h3>
        <label>–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä:</label>
        <input type="text" id="docnumber" required>
        <small id="example">–ü—Ä–∏–º–µ—Ä: –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤—ã—à–µ</small>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
          <button type="submit" class="next">‚úÖ –û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </div>
      </div>

    </form>
  </div>

<script>
const steps = document.querySelectorAll('.step');
let currentStep = 0;

function showStep(n) {
  steps.forEach((step, i) => step.classList.toggle('active', i === n));
  currentStep = n;
}

// –∫–Ω–æ–ø–∫–∏ "–î–∞–ª–µ–µ"
document.querySelectorAll('.next').forEach(btn => {
  btn.addEventListener('click', () => {
    const inputs = steps[currentStep].querySelectorAll('input, select');
    for (let input of inputs) {
      if (!input.checkValidity()) {
        input.reportValidity();
        return;
      }
    }
    if (currentStep < steps.length - 1) {
      showStep(currentStep + 1);
    }
  });
});

// –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥"
document.querySelectorAll('.back').forEach(btn => {
  btn.addEventListener('click', () => {
    if (currentStep > 0) showStep(currentStep - 1);
  });
});

// –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞
const doctype = document.getElementById('doctype');
const docnumber = document.getElementById('docnumber');
const example = document.getElementById('example');

doctype.addEventListener('change', () => {
  if (doctype.value === "passport") {
    docnumber.pattern = "^[0-9]{4}\\s?[0-9]{6}$";
    example.textContent = "–ü—Ä–∏–º–µ—Ä: 4510 123456";
  } else if (doctype.value === "inn") {
    docnumber.pattern = "^[0-9]{10,12}$";
    example.textContent = "–ü—Ä–∏–º–µ—Ä: 500100732259";
  } else if (doctype.value === "snils") {
    docnumber.pattern = "^[0-9]{3}-[0-9]{3}-[0-9]{3}\\s?[0-9]{2}$";
    example.textContent = "–ü—Ä–∏–º–µ—Ä: 112-233-445 95";
  } else {
    docnumber.removeAttribute('pattern');
    example.textContent = "–ü—Ä–∏–º–µ—Ä: –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤—ã—à–µ";
  }
});

// –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã
document.getElementById('wizardForm').addEventListener('submit', e => {
  e.preventDefault();
  alert("‚úÖ –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã!");
  // –∑–¥–µ—Å—å –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å fetch() –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
});
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ú–ö–° Web Bot</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center h-screen font-sans">
  <div class="bg-white p-6 rounded-2xl shadow-lg w-full max-w-md text-center">
    <h1 class="text-2xl font-bold mb-4">üõ∞ –ú–ö–°</h1>
    <div id="form-step">
      <p id="form-text" class="mb-3">–í–≤–µ–¥–∏—Ç–µ –§–ò–û:</p>
      <input id="form-input" type="text" 
             class="border p-2 w-full rounded mb-3 text-center"
             placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á">
      <select id="form-select" class="hidden border p-2 w-full rounded mb-3 text-center">
        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç --</option>
        <option value="–ø–∞—Å–ø–æ—Ä—Ç">–ü–∞—Å–ø–æ—Ä—Ç</option>
        <option value="–∏–Ω–Ω">–ò–ù–ù</option>
        <option value="—Å–Ω–∏–ª—Å">–°–ù–ò–õ–°</option>
      </select>
      <div class="flex justify-between">
        <button onclick="nextStep()" 
                class="bg-blue-600 text-white px-4 py-2 rounded w-[48%]">‚û°Ô∏è –î–∞–ª–µ–µ</button>
        <button onclick="prevStep()" 
                class="bg-gray-500 text-white px-4 py-2 rounded w-[48%]">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
      </div>
    </div>
  </div>

  <script>
    let step = 1;
    let formData = {};

    function nextStep() {
      const input = document.getElementById("form-input");
      const select = document.getElementById("form-select");
      const text = document.getElementById("form-text");
      let val = input.value.trim();

      if (step === 1) {
        if (!val) { alert("–í–≤–µ–¥–∏—Ç–µ –§–ò–û"); return; }
        formData.fullname = val;
        step = 2;
        text.innerText = "–í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω:";
        input.value = "";
        input.placeholder = "+7 (XXX) XXX-XX-XX";

      } else if (step === 2) {
        if (!/^\+7 \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(val)) { 
          alert("–í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ +7 (XXX) XXX-XX-XX"); 
          return; 
        }
        formData.phone = val;
        step = 3;
        text.innerText = "–í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç:";
        input.classList.add("hidden");
        select.classList.remove("hidden");

      } else if (step === 3) {
        if (!select.value) { alert("–í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç –∏–∑ —Å–ø–∏—Å–∫–∞"); return; }
        formData.docType = select.value;
        step = 4;
        select.classList.add("hidden");
        input.classList.remove("hidden");

        if (formData.docType === "–ø–∞—Å–ø–æ—Ä—Ç") {
          text.innerText = "–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –ø–∞—Å–ø–æ—Ä—Ç–∞ (—Ñ–æ—Ä–º–∞—Ç: 1234 567890):";
          input.placeholder = "1234 567890";
          input.value = "1234 567890";
        } else if (formData.docType === "–∏–Ω–Ω") {
          text.innerText = "–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –ò–ù–ù (12 —Ü–∏—Ñ—Ä):";
          input.placeholder = "123456789012";
          input.value = "123456789012";
        } else {
          text.innerText = "–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –°–ù–ò–õ–° (—Ñ–æ—Ä–º–∞—Ç: 123-456-789 12):";
          input.placeholder = "123-456-789 12";
          input.value = "123-456-789 12";
        }

      } else if (step === 4) {
        if (!val) { alert("–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞"); return; }
        formData.docNumber = val;
        alert("‚úÖ –§–æ—Ä–º–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞:\n" + JSON.stringify(formData, null, 2));
      }
    }

    function prevStep() {
      const input = document.getElementById("form-input");
      const select = document.getElementById("form-select");
      const text = document.getElementById("form-text");

      if (step === 2) {
        step = 1;
        text.innerText = "–í–≤–µ–¥–∏—Ç–µ –§–ò–û:";
        input.value = formData.fullname || "";
        input.placeholder = "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á";
      } else if (step === 3) {
        step = 2;
        text.innerText = "–í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω:";
        input.classList.remove("hidden");
        select.classList.add("hidden");
        input.value = formData.phone || "";
        input.placeholder = "+7 (XXX) XXX-XX-XX";
      } else if (step === 4) {
        step = 3;
        text.innerText = "–í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç:";
        input.classList.add("hidden");
        select.classList.remove("hidden");
      }
    }
  </script>
</body>
</html>

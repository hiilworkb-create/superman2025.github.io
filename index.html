<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ú–ö–°-–±–æ—Ç –≤–µ–±</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #e0e0f0;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        min-height: 100vh;
    }
    #chat {
        max-width: 500px;
        width: 100%;
        margin: 20px;
        background: #fff;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 6px 16px rgba(0,0,0,0.15);
        display: flex;
        flex-direction: column;
    }
    .message {
        margin: 10px 0;
        padding: 10px 15px;
        border-radius: 12px;
        max-width: 90%;
        word-wrap: break-word;
    }
    .bot {
        background: #f3f3f8;
        color: #222;
        align-self: flex-start;
    }
    .user {
        background: #6c63ff;
        color: #fff;
        text-align: right;
        align-self: flex-end;
    }
    #buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 10px;
    }
    button {
        flex: 1 1 48%;
        min-width: 120px;
        padding: 12px 0;
        border-radius: 10px;
        border: none;
        cursor: pointer;
        font-size: 15px;
        font-weight: 600;
        transition: 0.2s;
        text-align: center;
    }
    .menu-btn {
        background: linear-gradient(135deg, #6c63ff, #8e85ff);
        color: #fff;
    }
    .menu-btn:hover {
        background: linear-gradient(135deg, #5751d1, #6f6cff);
    }
    .back-btn {
        background: #ccc;
        color: #333;
    }
    .back-btn:hover {
        background: #aaa;
    }
    input {
        width: 100%;
        padding: 12px;
        border-radius: 8px;
        border: 1px solid #ccc;
        font-size: 15px;
        margin: 5px 0;
        box-sizing: border-box;
    }
    a.button-link {
        text-decoration: none;
        display: inline-block;
        text-align: center;
        padding: 12px 0;
        border-radius: 10px;
        background: linear-gradient(135deg, #6c63ff, #8e85ff);
        color: #fff;
        width: 100%;
        font-weight: 600;
        margin-top: 5px;
    }
    a.button-link:hover {
        background: linear-gradient(135deg, #5751d1, #6f6cff);
    }
</style>
</head>
<body>
<div id="chat">
    <div class="message bot">üè† –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ú–ö–°-–±–æ—Ç! üì° –£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏–º–∏ —É—Å–ª—É–≥–∞–º–∏ –ª–µ–≥–∫–æ –∏ –±—ã—Å—Ç—Ä–æ! üåê</div>
    <div id="buttons"></div>
</div>

<script>
const chat = document.getElementById('chat');
const buttonsDiv = document.getElementById('buttons');

const mainMenu = [
    { text: "üìù –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ", action: startForm },
    { text: "üîÑ –ü–æ–º–µ–Ω—è—Ç—å —Ç–∞—Ä–∏—Ñ", action: unauthorizedAction },
    { text: "üí≥ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å", action: unauthorizedAction },
    { text: "üí∏ –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å", action: unauthorizedAction },
    { text: "üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏", action: additionalServicesMenu }
];

const additionalMenu = [
    { text: "‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã", action: faqMenu },
    { text: "‚ÑπÔ∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è", action: instruction },
    { text: "üìû –°–≤—è–∑–∞—Ç—å—Å—è —Å —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π", action: contactSupport },
    { text: "‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥", action: showMainMenu }
];

const backButton = [{ text: "‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥", action: showMainMenu }];

let state = {};
let formData = {};

function addMessage(text, sender='bot') {
    const msg = document.createElement('div');
    msg.className = 'message ' + sender;
    msg.innerHTML = text;
    chat.appendChild(msg);
    chat.scrollTop = chat.scrollHeight;
}

function showButtons(menu) {
    buttonsDiv.innerHTML = '';
    menu.forEach(btn => {
        const button = document.createElement('button');
        button.textContent = btn.text;
        button.onclick = btn.action;
        button.className = btn.text.includes("‚Ü©Ô∏è") ? 'back-btn' : 'menu-btn';
        buttonsDiv.appendChild(button);
    });
}

function showMainMenu() {
    state = {};
    addMessage("üè† –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ú–ö–°-–±–æ—Ç! üì° –£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏–º–∏ —É—Å–ª—É–≥–∞–º–∏ –ª–µ–≥–∫–æ –∏ –±—ã—Å—Ç—Ä–æ! üåê");
    showButtons(mainMenu);
}

function unauthorizedAction() {
    addMessage("–ú—ã –Ω–µ –º–æ–∂–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–ª–∏—Å—å. ‚ö†Ô∏è");
    showButtons([{ text: "üîê –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è", action: startForm }, { text: "‚Ü©Ô∏è –°–º–µ–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ", action: showMainMenu }]);
}

function additionalServicesMenu() {
    addMessage("üõ†Ô∏è –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é: üåê");
    showButtons(additionalMenu);
}

function faqMenu() {
    const faq = [
        { q: "‚è≥ –î–æ –∫–∞–∫–æ–≥–æ —á–∏—Å–ª–∞ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–æ–∫–∞–∑–∞–Ω–∏—è?", a: "üìå –ü–æ–∫–∞–∑–∞–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–æ–≤ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –¥–æ 25 —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞. üì°" },
        { q: "üí∏ –ß—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤–æ–≤—Ä–µ–º—è?", a: "‚ö†Ô∏è –ü–ª–∞—Ç–∞ –±—É–¥–µ—Ç –Ω–∞—á–∏—Å–ª–µ–Ω–∞ –ø–æ —Å—Ä–µ–¥–Ω–µ–º—É ‚Äî –∏—Å—Ö–æ–¥—è –∏–∑ –ø–æ–∫–∞–∑–∞–Ω–∏–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ–ª–≥–æ–¥–∞. ‚ö°Ô∏è" },
        { q: "üîí –≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ?", a: "üîí –î–∞, —É –Ω–∞—Å —Å—Ç–æ–∏—Ç –∑–∞—â–∏—Ç–∞ VISION 3.87676 PRO VS (—Å–∫–≤–æ–∑–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ). üåê" },
        { q: "‚ö°Ô∏è –ü–æ—á–µ–º—É —á–µ—Ä–µ–∑ Telegram?", a: "‚ö°Ô∏è –î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Ü–∏—Ñ—Ä–æ–≤—ã–µ –ø–ª–æ—â–∞–¥–∫–∏. üì°" },
        { q: "üîÅ –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É?", a: "‚úÖ –î–∞, –º–æ–∂–Ω–æ. –°–≤—è–∂–∏—Ç–µ—Å—å —Å —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –≤–≤–æ–¥. üåê" },
        { q: "üìë –ö–∞–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?", a: "üëâ –ü–∞—Å–ø–æ—Ä—Ç, –ò–ù–ù, –°–ù–ò–õ–°. üì°" },
        { q: "‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥", action: showMainMenu }
    ];
    const menu = faq.map(f => ({ text: f.q, action: () => f.a ? addMessage(f.a) && showButtons(backButton) : f.action() }));
    addMessage("‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã: üåê");
    showButtons(menu);
}

function instruction() {
    const text = `üìã –ß—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ:
1Ô∏è‚É£ –ù–∞–∂–º–∏—Ç–µ ¬´–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ¬ª.
2Ô∏è‚É£ –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞.
3Ô∏è‚É£ –í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç –∏ –≤–≤–µ–¥–∏—Ç–µ –µ–≥–æ –Ω–æ–º–µ—Ä.
4Ô∏è‚É£ –ü–æ–ª—É—á–∏—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ. üåê

–ù–∞ –ª—é–±–æ–º —ç—Ç–∞–ø–µ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–∂–∞—Ç—å '‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥'. üì°`;
    addMessage(text);
    showButtons(backButton);
}

function contactSupport() {
    addMessage('üìû –î–ª—è —Å–≤—è–∑–∏ —Å —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É: <a class="button-link" href="https://t.me/MyMKCsup" target="_blank">–ù–∞–ø–∏—Å–∞—Ç—å –≤ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫—É</a> üåê');
    showButtons(backButton);
}

// ===== –§–æ—Ä–º–∞ =====
function startForm() {
    state.step = 'fullname';
    addMessage("<b>–£–ö–ê–ó–´–í–ê–ô–¢–ï –¢–û–õ–¨–ö–û –°–í–û–ò –î–ê–ù–ù–´–ï</b>");
    addMessage("üë§ –£–∫–∞–∂–∏—Ç–µ –§–∞–º–∏–ª–∏—é –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é (—Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç): üåê");
    showInput(handleFormInput);
}

function showInput(callback) {
    buttonsDiv.innerHTML = '<input type="text" id="inputField" placeholder="–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ..."><button class="menu-btn" onclick="submitInput()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>';
    window.submitInput = () => {
        const val = document.getElementById('inputField').value.trim();
        callback(val);
    };
}

function handleFormInput(val) {
    if (val === "‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥") return showMainMenu();

    switch(state.step) {
